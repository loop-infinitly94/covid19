(this["webpackJsonpcovid-app"]=this["webpackJsonpcovid-app"]||[]).push([[0],{103:function(e,a,t){},104:function(e,a,t){},136:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(10),c=t.n(r),l=(t(103),t(104),t(81)),s=t(74),i=t(75),u=t(82),m=t(80),d=t(53),h=t.n(d),p=t(76),g=t.n(p),v=t(22),f=(t(3),t(194)),b=t(7),y=t(196),w=t(197),E=t(193),C=t(195),S=t(188),D=t(211),N=t(192),R=t(215),k=t(137),O=t(202),T=t(216);function j(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}function x(e){var a=e.classes,t=(e.onSelectAllClick,e.order),n=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return o.a.createElement(S.a,null,o.a.createElement(N.a,{className:"tableRow"},e.columns.map((function(e){return o.a.createElement(E.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&t,className:"tableCell"},o.a.createElement(R.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){r(e,c)})},e.label,n===e.id?o.a.createElement("span",{className:a.visuallyHidden},"desc"===t?"sorted descending":"sorted ascending"):null));var c}))))}Object(f.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(b.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}));var P=Object(f.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function W(e){var a=P(),t=o.a.useState("desc"),n=Object(v.a)(t,2),r=n[0],c=n[1],l=o.a.useState(e.defaultSort),s=Object(v.a)(l,2),i=s[0],u=s[1],m=o.a.useState([]),d=Object(v.a)(m,2),h=d[0],p=d[1],g=o.a.useState(0),f=Object(v.a)(g,2),b=f[0],S=f[1],R=o.a.useState(!1),W=Object(v.a)(R,2),L=W[0],V=W[1],B=o.a.useState(10),F=Object(v.a)(B,2),A=F[0],I=F[1],z=A-Math.min(A,e.rows.length-b*A);return o.a.createElement("div",{className:a.root},o.a.createElement(k.a,{className:a.paper},o.a.createElement(C.a,null,o.a.createElement(y.a,{className:a.table,"aria-labelledby":"tableTitle",size:L?"small":"medium","aria-label":"enhanced table"},o.a.createElement(x,{classes:a,numSelected:h.length,order:r,orderBy:i,onSelectAllClick:function(a){if(a.target.checked){var t=e.rows.map((function(e){return e.name}));p(t)}else p([])},onRequestSort:function(e,a){c(i===a&&"asc"===r?"desc":"asc"),u(a)},rowCount:e.rows.length,columns:e.columns}),o.a.createElement(w.a,null,function(e,a){var t=e.map((function(e,a){return[e,a]}));return t.sort((function(e,t){var n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t.map((function(e){return e[0]}))}(e.rows,function(e,a){return"desc"===e?function(e,t){return j(e,t,a)}:function(e,t){return-j(e,t,a)}}(r,i)).slice(b*A,b*A+A).map((function(a,t){var n,r=(n=a.country,-1!==h.indexOf(n));"enhanced-table-checkbox-".concat(t);return o.a.createElement(N.a,{hover:!0,onClick:function(t){return function(a,t){var n=h.indexOf(t.country),o=[];-1===n?o=o.concat(h,t.country):0===n?o=o.concat(h.slice(1)):n===h.length-1?o=o.concat(h.slice(0,-1)):n>0&&(o=o.concat(h.slice(0,n),h.slice(n+1))),p(o),void 0!==e.getCurrentSelectedRow&&e.getCurrentSelectedRow(t,p)}(0,a)},role:"checkbox","aria-checked":r,tabIndex:-1,key:t,selected:r,className:"tableRow"},e.columns.map((function(e){var t=a[e.id];return o.a.createElement(E.a,{className:"tableCell",key:e.id,align:e.align},e.format&&"number"===typeof t?e.format(t):t)})))})),z>0&&o.a.createElement(N.a,{style:{height:(L?33:53)*z}},o.a.createElement(E.a,{colSpan:6}))))),o.a.createElement(D.a,{rowsPerPageOptions:[5,10,25],component:"div",count:e.rows.length,rowsPerPage:A,page:b,onChangePage:function(e,a){S(a)},onChangeRowsPerPage:function(e){I(parseInt(e.target.value,10)),S(0)}})),o.a.createElement(O.a,{control:o.a.createElement(T.a,{checked:L,onChange:function(e){V(e.target.checked)}}),label:"Dense padding"}))}var L=t(203),V=t(204),B=t(84),F=Object(f.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function A(e){var a=e.details,t=F();t.bullet;return o.a.createElement("div",{className:"SummaryContianer"},o.a.createElement("div",{className:"Summary"},o.a.createElement(L.a,{className:t.root},o.a.createElement(V.a,{className:"Cases commonCard"},o.a.createElement(B.a,{className:t.pos},"Total Cases"),o.a.createElement(B.a,{className:"Total",variant:"h5",component:"h2"},a.cases.total)),o.a.createElement(V.a,{className:"Death commonCard"},o.a.createElement(B.a,{className:t.pos},"Total Deaths"),o.a.createElement(B.a,{className:"Deaths",variant:"h5",component:"h2"},a.deaths.total)),o.a.createElement(V.a,{className:"Recovery commonCard"},o.a.createElement(B.a,{className:t.pos},"Total Recovered"),o.a.createElement(B.a,{className:"Recovered",variant:"h5",component:"h2"},a.cases.recovered)))),o.a.createElement("div",{className:"summary2"},o.a.createElement(L.a,{className:t.root},o.a.createElement(V.a,{className:"Cases commonCard"},o.a.createElement(B.a,{className:t.title,color:"textSecondary",gutterBottom:!0},"Newly Confirmed"),o.a.createElement(B.a,{variant:"h5",component:"h2"},a.cases.new)),o.a.createElement(V.a,{className:"Death commonCard"},o.a.createElement(B.a,{className:t.pos,color:"textSecondary"},"New Deaths"),o.a.createElement(B.a,{variant:"h5",component:"h2"},a.deaths.new)))))}var I=t(208),z=t(214),M=t(207),G=t(206),H=t(205),q=t(78),J=t.n(q);function Y(e){return o.a.createElement(J.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]'},o.a.createElement(k.a,e))}function U(e){var a=o.a.useState(!0),t=Object(v.a)(a,2),n=t[0],r=t[1],c=function(){e.tableSelection([]),r(!1),e.onCloseDialog()};return o.a.createElement("div",null,o.a.createElement(z.a,{open:n,onClose:c,PaperComponent:Y,"aria-labelledby":"draggable-dialog-title",fullWidth:!0},o.a.createElement(H.a,{style:{cursor:"move"},id:"draggable-dialog-title"},e.currentRow.country),o.a.createElement(G.a,null,o.a.createElement("div",{className:"SummaryDilaog"},o.a.createElement("div",{className:"casescummary"},o.a.createElement(B.a,{className:"dialogP"},"Total Cases"),o.a.createElement(B.a,{className:"Total",variant:"h5",component:"h2"},e.currentRow.totalCases),o.a.createElement(B.a,{className:"dialogP"},"Total Deaths"),o.a.createElement(B.a,{className:"Deaths",variant:"h5",component:"h2"},e.currentRow.totalDeaths),o.a.createElement(B.a,{className:"dialogP"},"Total Recovered"),o.a.createElement(B.a,{className:"Recovered",variant:"h5",component:"h2"},e.currentRow.recovered)),o.a.createElement("div",{className:"deathssummary"},o.a.createElement(B.a,{className:"dialogP"},"Newly Confirmed"),o.a.createElement(B.a,{className:"Total",variant:"h5",component:"h2"},e.currentRow.newCases),o.a.createElement(B.a,{className:"dialogP"},"New Deaths"),o.a.createElement(B.a,{className:"Deaths",variant:"h5",component:"h2"},e.currentRow.newDeaths)))),o.a.createElement(M.a,null,o.a.createElement(I.a,{autoFocus:!0,onClick:c,color:"primary"},"Close"))))}var Z=t(83),$=t(212),K=t(210);var Q=Object(f.a)({option:{fontSize:15,"& > span":{marginRight:10,fontSize:18}}});function X(e){var a=Q(),t=function(e){var a=[];return e.map((function(e){a.push({label:e})})),a}(e.countrySlug);return o.a.createElement(K.a,{id:"country-select-demo",style:{width:300},options:t,classes:{option:a.option},onChange:function(a,t){e.onChangeSearch(t)},autoHighlight:!0,getOptionLabel:function(e){return e.label},renderOption:function(e){return o.a.createElement(o.a.Fragment,null,e.label)},renderInput:function(e){return o.a.createElement($.a,Object.assign({},e,{label:"Choose a country",variant:"outlined",inputProps:Object(Z.a)({},e.inputProps,{autoComplete:"new-password"})}))}})}var _=[{id:"country",label:"Country",minWidth:170},{id:"totalCases",label:"Total Cases",minWidth:30},{id:"newCases",label:"New Cases",minWidth:30},{id:"activeCases",label:"Active Cases",minWidth:30},{id:"criticalCases",label:"Critical Cases",minWidth:30},{id:"recovered",label:"Recovered Cases",minWidth:30},{id:"newDeaths",label:"New Deaths",minWidth:30},{id:"totalDeaths",label:"Total Deaths",minWidth:30}],ee=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(e){var n;Object(s.a)(this,t),(n=a.call(this,e)).state={isLoading:!0,summaryData:[],tableRow:[],countryData:[],countryTableRow:[],tableSelection:"",currentRow:{},searchValue:"",worldSummary:{},countrySlug:[]},n.Today=new Date;var o=new Date;return o.setDate(o.getDate()-1),n.Yesterday=o,n}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0});h.a.get("https://covid-193.p.rapidapi.com/countries",{method:"GET",headers:{"x-rapidapi-host":"covid-193.p.rapidapi.com","x-rapidapi-key":"d57969ed8amsh05ce00a7d1d6949p1fc6d8jsn2cff508d63aa"}}).then((function(a){console.log(a),200===a.status&&e.setState({countrySlug:a.data.response})})),h.a.get("https://covid-193.p.rapidapi.com/statistics",{method:"GET",headers:{"x-rapidapi-host":"covid-193.p.rapidapi.com","x-rapidapi-key":"d57969ed8amsh05ce00a7d1d6949p1fc6d8jsn2cff508d63aa"}}).then((function(a){console.log(a),200===a.status&&(e.setState({summaryData:a.data.response}),e.setDataForTable())})),this.refreshData()}},{key:"refreshData",value:function(){var e=this;setInterval((function(){h.a.get("https://covid-193.p.rapidapi.com/statistics",{method:"GET",headers:{"x-rapidapi-host":"covid-193.p.rapidapi.com","x-rapidapi-key":"d57969ed8amsh05ce00a7d1d6949p1fc6d8jsn2cff508d63aa"}}).then((function(a){console.log(a),200===a.status&&(e.setState({summaryData:a.data.response}),e.setDataForTable())}))}),6e5)}},{key:"setDataForTable",value:function(){var e=this,a=[];this.state.summaryData.map((function(t){a.push(e.createData(t))})),this.setState({tableRow:a}),this.setState({tableOrigRow:a}),this.setState({isLoading:!1})}},{key:"createData",value:function(e){return"All"===e.country&&this.setState({worldSummary:e}),{country:e.country,totalCases:e.cases.total,newCases:e.cases.new,activeCases:e.cases.active,criticalCases:e.cases.critical,recovered:e.cases.recovered,newDeaths:null===e.deaths.new?"":e.deaths.new,totalDeaths:e.deaths.total}}},{key:"formatDateT",value:function(e){var a=e,t=a.getDate(),n=a.getMonth()+1;return t<10&&(t="0"+t),n<10&&(n="0"+n),a.getFullYear()+"-"+n+"-"+t+"T00:00:00Z"}},{key:"getCurrentSelectedRow",value:function(e,a){this.setState({tableSelection:a,currentRow:e})}},{key:"buildEachCountryTable",value:function(){var e=this,a=[];this.state.countryData.map((function(t){a.push(e.createData(t))})),this.setState({countryTableRow:a})}},{key:"onCloseDialog",value:function(){this.setState({countryTableRow:[],currentRow:{}})}},{key:"onChangeSearch",value:function(e){null!==e?this.setState({searchValue:e.label}):null===e?this.setState({searchValue:""}):this.setState({searchValue:e})}},{key:"componentDidUpdate",value:function(e,a){a.searchValue!==this.state.searchValue&&this.setState({tableRow:this.filterTable()})}},{key:"filterTable",value:function(){var e=this,a=[];Object(l.a)(this.state.tableRow);return""!==this.state.searchValue?(this.state.tableRow.map((function(t){t.country.toLowerCase().indexOf(e.state.searchValue.toLowerCase())>-1&&a.push(t)})),a):this.state.tableOrigRow}},{key:"render",value:function(){return o.a.createElement(g.a,{active:this.state.isLoading,spinner:!0,text:"Loading your content..."},Object.keys(this.state.currentRow).length>0?o.a.createElement(U,{onCloseDialog:this.onCloseDialog.bind(this),currentRow:this.state.currentRow,tableSelection:this.state.tableSelection}):null,this.state.isLoading?null:o.a.createElement("div",{className:"Container"},o.a.createElement(A,{details:this.state.worldSummary}),o.a.createElement(X,{countrySlug:this.state.countrySlug,onChangeSearch:this.onChangeSearch.bind(this)}),o.a.createElement(W,{rows:this.state.tableRow,columns:_,getCurrentSelectedRow:this.getCurrentSelectedRow.bind(this),defaultSort:"totalCases"})))}}]),t}(n.Component);var ae=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(ee,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},98:function(e,a,t){e.exports=t(136)}},[[98,1,2]]]);
//# sourceMappingURL=main.2b386cff.chunk.js.map